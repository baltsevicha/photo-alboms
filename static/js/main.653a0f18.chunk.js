(this["webpackJsonpphoto-albom"]=this["webpackJsonpphoto-albom"]||[]).push([[0],{1:function(n,t,o){n.exports={container:"styles_container__zQDVE",data:"styles_data__ct4jE",code:"styles_code__n3hbZ"}},10:function(n,t,o){n.exports={albom:"styles_albom__2EzAS"}},11:function(n,t,o){n.exports={container:"styles_container__39iyr",imagesContainer:"styles_imagesContainer__ot1b5"}},19:function(n,t,o){},21:function(n,t,o){"use strict";o.r(t);var e=o(0),s=o(2),r=o.n(s),i=o(12),a=o.n(i),c=(o(19),o(8)),h=o.n(c),l=o(3),f=o(13),d=o(6),u=o(9),x=o.n(u),w=function(n){var t=n.photos,o=n.changeOrder,s=n.remove;return Object(e.jsx)("div",{children:t.map((function(n,r){return Object(e.jsxs)("div",{className:x.a.container,children:[Object(e.jsx)("img",{src:n.image,className:x.a.preview}),0!==r&&Object(e.jsx)("button",{onClick:function(){return o(r,r-1)},children:"up"}),r!==t.length-1&&Object(e.jsx)("button",{onClick:function(){return o(r,r+1)},children:"down"}),Object(e.jsx)("button",{onClick:function(){return s(r)},children:"remove"})]},n.id)}))})},m=function(n,t){for(var o=0,e=[];o<n.length;)e.push(n.slice(o,o+t)),o+=t;return e};function j(n){for(var t=0,o=0;o<n.length;)t+=n[o].ratio,o++;return t}var b=function(n){var t=function(n){for(var t=[],o=0;o<n.length-1;)t.push(n[o]-n[o+1]),o++;return t}(n.map(j));return{rowsPhotos:n,rowsRatioDiff:t,coeffForComparison:function(n){for(var t=0,o=0;o<n.length;)t+=Math.abs(n[o]),o++;return t}(t)}};function p(n,t,o){if(n===t){var e=o[n],s=o[n+1][0];return e.concat(s)}return o[n].slice(1)}function O(n,t,o){if(n===t){var e=o[n];return e.slice(0,e.length-1)}var s=o[n-1],r=s[s.length-1],i=o[n];return[r].concat(i)}var g=function(n){var t=n.rowsPhotos,o=n.rowsRatioDiff;return function(n,t,o){for(var e=t[o]>0?O:p,s=[],r=0;r<n.length;r++)if(r===o||r===o+1){var i=e(r,o,n);s.push(i)}else s.push(n[r]);return s}(t,o,function(n){for(var t=0,o=1;o<n.length;)Math.abs(n[o])>Math.abs(n[t])&&(t=o),o++;return t}(o))};function P(n){for(var t=function(n){for(var t=0,o=0;o<n.length;)t+=n[o].ratio,o++;return t}(n),o=n[0],e=Math.floor(300*o.ratio/t),s=Math.floor(e/o.ratio),r=[{width:e,height:s,image:o.image}],i=1;i<n.length;){var a=Math.floor(300*n[i].ratio/t);r.push({image:n[i].image,width:a,height:s}),i++}return r}var R=function(n){var t=function(n){var t=n.length;return t<=1?[n]:2===t?function(n){return n[0].ratio+n[1].ratio<=2?[n]:[[n[0]],[n[1]]]}(n):m(n,t<=4?2:3)}(n),o=b(t);if(t.length>1)for(var e,s,r;!r||o.coeffForComparison>r.coeffForComparison;)e=r,s=g(o),r=b(s),e&&(o=e);return function(n){for(var t=[],o=0;o<n.length;)t.push(P(n[o])),o++;return t}(o.rowsPhotos)},v=o(10),D=o.n(v);var I=function(n){var t=n.photos,o=Object(s.useState)([]),r=Object(d.a)(o,2),i=r[0],a=r[1];return Object(s.useEffect)((function(){var n=function(n){var t=function(n){return n.map((function(n){return{image:n.image,width:n.width,height:n.height,ratio:n.width/n.height}}))}(n);return m(t,9).map((function(n){return R(n)}))}(t);a(n.map((function(n){return function(n){return n.reduce((function(n,t){return[].concat(Object(l.a)(n),Object(l.a)(t))}),[])}(n)})))}),[t]),Object(e.jsxs)("div",{className:D.a.container,children:[Object(e.jsx)("h2",{children:"ALBOMS"}),i.map((function(n,t){return Object(e.jsx)("div",{className:D.a.albom,children:n.map((function(n,t){return Object(e.jsx)("img",{width:n.width,height:n.height,src:n.image},t)}))},t)}))]})},N=o(11),_=o.n(N);function C(n){return new Promise((function(t){var o=new FileReader;o.onloadend=function(n){var o=new Image;o.onload=function(){t({id:Math.floor(Math.random()*Math.floor(1e6)),width:this.width,height:this.height,image:n.target.result})},o.src=n.target.result},o.readAsDataURL(n)}))}var F=function(){var n=Object(s.useState)([]),t=Object(d.a)(n,2),o=t[0],r=t[1],i=function(){var n=Object(f.a)(h.a.mark((function n(t){var e,s,i,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=t.target.files,s=[],i=0;i<e.length;i++)s.push(C(e[i]));return n.next=5,Promise.all(s);case 5:a=n.sent,r([].concat(Object(l.a)(o),Object(l.a)(a)));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return Object(e.jsxs)("div",{className:_.a.container,children:[Object(e.jsx)("input",{type:"file",onChange:i,multiple:!0}),Object(e.jsxs)("div",{className:_.a.imagesContainer,children:[Object(e.jsx)(w,{photos:o,changeOrder:function(n,t){var e=o.reduce((function(o,e,s,r){return s===n?o.push(r[t]):s===t?o.push(r[n]):o.push(e),o}),[]);r(e)},remove:function(n){var t=o.filter((function(t,o){return o!==n}));r(t)}}),Object(e.jsx)(I,{photos:o})]})]})},M=o(1),T=o.n(M),A=function(){return Object(e.jsxs)("div",{className:T.a.container,children:[Object(e.jsx)("h2",{children:"CODE"}),Object(e.jsx)("i",{children:"\u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:'\n  const photos = [{\n    width: 220,\n    height: 220,\n    image: "https://..."\n  }, {\n    width: 1200,\n    height: 800,\n    image: "https://..."\n  }]\n      '}),Object(e.jsx)("br",{}),Object(e.jsx)("b",{children:"1) \u041f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433, \u044d\u0442\u043e \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0448\u0438\u0440\u0438\u043d\u044b \u043a \u0432\u044b\u0441\u043e\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (Ratio)"}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  function convertToRatio(photos) {\n    const newPhotos = [];\n    let index = 0;\n\n    while (index < photos.length) {\n      newPhotos.push({\n        width: photo.width,\n        height: photo.height,\n        image: photo.image,\n        ratio: photo.width / photo.height,\n      })\n    }\n\n    return photos;\n  }\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:'\n  const photosWithRatio = [{\n    width: 220,\n    height: 220,\n    image: "https://...",\n    ratio: 1,\n  }, {\n    width: 1200,\n    height: 800,\n    image: "https://...",\n    ratio: 1.5\n  }]\n      '}),Object(e.jsx)("br",{}),Object(e.jsxs)("b",{children:["2) \u041f\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c \u0432 \u0430\u043b\u044c\u0431\u043e\u043c\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0444\u043e\u0442\u043e 9,",Object(e.jsx)("br",{}),"\u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0430\u0437\u043e\u0431\u044c\u0435\u043c \u0444\u043e\u0442\u043a\u0438 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  const alboms = chunk(photosWithRatio, 9);\n\n  function chunk(list, size) {\n    let index = 0;\n    let result = [];\n  \n    while (index < list.length) {\n      result.push(list.slice(index, index + size));\n      index += size;\n    }\n  \n    return result;\n  };\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:"\n  const alboms = [\n    [{}, {}, {}, {}, {}, {}, {}, {}, {}],\n    [{}, {}, {}, {}, {}, {}, {}, {}, {}],\n    [{}, {}, {}, {}],\n  ];\n      "}),Object(e.jsxs)("b",{children:["3) \u0414\u0430\u043b\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0430\u043b\u044c\u0431\u043e\u043c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",Object(e.jsx)("br",{}),"\u0421\u0430\u043c\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e calculateAlbom \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0438\u0436\u0435"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  const calculatedAlboms = [];\n  let index = 0;\n\n  while (index < alboms.length) {\n    const calculatedAlbom = calculateAlbom(alboms[index]);\n    calculatedAlboms.push(calculatedAlbom);\n    index++;\n  }\n\n  return calculatedAlboms;\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:'\n  const calculatedAlboms = [\n    [ // first albom\n      [{}, {}, {}, {}], // first row of photos\n      [{}, {}] // second row of photos\n      [{}, {}, {}] // third row of photos\n    ], [ // second albom\n      [{}, {}, {}],\n      [{}, {}]\n    ]\n  ];\n\n  // example of photo\n  const albom = {\n    width: 48, // updated width\n    height: 48, // updated height\n    image: "https://..."\n  }\n      '}),Object(e.jsxs)("b",{children:["4) \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438 calculateAlbom",Object(e.jsx)("br",{}),"\u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u044f\u0434\u044b"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  const rowsPhotos = sliceToRows(photos);\n\n  function sliceToRows(photos) {\n    const length = photos.length;\n\n    if (length <= 1) {\n      return [photos];\n    } else if (length === 2) {\n      return sliceForTwoPhotos(photos);\n    } else if (length <= 4) {\n      return chunk(photos, 2); // implementation of chunk see below\n    } else {\n      return chunk(photos, 3);\n    }\n  }\n\n  function sliceForTwoPhotos(photos) {\n    const rationSum = photos[0].ratio + photos[1].ratio;\n  \n    if (rationSum <= 2) {\n      return [photos];\n    }\n  \n    return [[photos[0]], [photos[1]]];\n  }\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:"\n      const photos = [{}, {}, {}, {}, {}, {}, {}, {}, {}];\n\n      ->\n      \n      const rowsPhotos = [\n        [{}, {}, {}],\n        [{}, {}, {}],\n        [{}, {}, {}]\n      ]\n      "}),Object(e.jsxs)("b",{children:["5) \u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u043e\u0440\u043e\u0448\u043e \u043c\u044b \u0440\u0430\u0437\u0431\u0438\u043b\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",Object(e.jsx)("br",{}),"\u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u0430\u043a\u0438\u0435 \u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f.",Object(e.jsx)("br",{}),"\u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u0438 analyze"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  let data = analyze(rowsPhotos);\n\n  function analyze(rowsPhotos) {\n    // we need to calculate ratio sum of each row \n    const summedRowsRation = sumRowRationForEachRow(rowsPhotos);\n\n    // we need to calculate ratio diff between rows\n    // it helps us to understand the direction for moving photo\n    const rowsRatioDiff = diffSumRowsRatio(summedRowsRation);\n\n    // we need some value for understanding current albom is better or after shufle\n    const coeffForComparison = calculateCoefficientForComparison(rowsRatioDiff);\n\n    return {\n      rowsPhotos,\n      rowsRatioDiff,\n      coeffForComparison,\n    };\n  }\n\n  function sumRowRationForEachRow(rowsPhotos) {\n    let rowsSum = [];\n    let rowIndex = 0;\n\n    while (rowIndex < rowsPhotos.length) {\n      let sum = 0;\n      let photoIndex = 0;\n\n      while (photoIndex < rowsPhotos[rowIndex].length) {\n        sum += rowsPhotos[rowIndex].ration;\n        photoIndex++;\n      }\n\n      rowsSum.push(sum);\n      rowIndex++;\n    }\n\n    return rowsSum;\n  }\n\n  function diffSumRowsRatio(summedRowsRation) {\n    let rowsRatioDiff = [];\n    let index = 0;\n\n    while (index < summedRowsRation.length - 1) {\n      rowsRatioDiff.push(summedRowsRation[index] - summedRowsRation[index + 1]);\n      index++;\n    }\n\n    return rowsRatioDiff;\n  }\n\n  function calculateCoefficientForComparison(rowsRatioDiff) {\n    let coeffForComparison = 0;\n    let index = 0;\n  \n    while (index < rowsRatioDiff.length) {\n      coeffForComparison += Math.abs(rowsRatioDiff[index]);\n      index++;\n    }\n  \n    return coeffForComparison;\n  }\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:"\n  const rowsPhotos = [\n    [{}, {}, {}],\n    [{}, {}, {}],\n    [{}, {}, {}]\n  ]\n\n  ->\n\n  const data = {\n    rowsPhotos: [[{}, {}, {}], [{}, {}, {}], [{}, {}, {}]]\n    rowsRatioDiff: [0.6537, -0.4366]\n    coeffForComparison; 1.0903,\n  };\n      "}),Object(e.jsxs)("b",{children:["6) \u0414\u0430\u043b\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",Object(e.jsx)("br",{}),"\u0418 \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",Object(e.jsx)("br",{}),"\u0418 \u0442\u0430\u043a \u043c\u0435\u0448\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0445\u0443\u0436\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  let data = analyze(rowsPhotos);\n  let tmpData;\n  let shuffledRowsPhotos;\n  let shuffledData;\n\n  while (\n    !shuffledData ||\n    data.coeffForComparison > shuffledData.coeffForComparison\n  ) {\n    tmpData = shuffledData;\n    shuffledRowsPhotos = shuffle(data);\n    shuffledData = analyze(shuffledRowsPhotos);\n\n    if (tmpData) {\n      data = tmpData;\n    }\n  }\n\n  console.log(data); // the best solution\n      "}),Object(e.jsxs)("b",{children:["7) \u0418\u0437\u0443\u0447\u0438\u043c \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 shuffle",Object(e.jsx)("br",{}),"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u0434\u0435\u044f, \u044d\u0442\u043e \u043f\u043e \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u0436\u0434\u0443 \u0441\u0443\u043c\u043c\u043e\u0439 Ration,",Object(e.jsx)("br",{}),"\u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u044c \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u043b\u0438\u0431\u043e \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u043b\u0438\u0431\u043e \u043d\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0448\u0443\u044e"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  let shuffledRowsPhotos = shuffle(data);\n\n  function shuffle({ rowsPhotos, rowsRatioDiff }) {\n    const maxDiffIndex = calculateMaxDiffIndex(rowsRatioDiff);\n\n    return moveImageToOtherLine(rowsPhotos, rowsRatioDiff, maxDiffIndex);\n  }\n\n  function calculateMaxDiffIndex(rowsRatioDiff) {\n    let maxDiffIndex = 0;\n    let index = 1;\n  \n    while (index < rowsRatioDiff.length) {\n      if (\n        Math.abs(rowsRatioDiff[index]) > Math.abs(rowsRatioDiff[maxDiffIndex])\n      ) {\n        maxDiffIndex = index;\n      }\n  \n      index++;\n    }\n  \n    return maxDiffIndex;\n  }\n\n  function moveImageToOtherLine(rowsPhotos, rowsRatioDiff, maxDiffIndex) {\n\n    // see below implementation moveImageToNextRow and moveImageToPrevRow\n    const moveMethod = rowsRatioDiff[maxDiffIndex] > 0 ? moveImageToNextRow : moveImageToPrevRow;\n  \n    let newRowsPhotos = [];\n  \n    for (let index = 0; index < rowsPhotos.length; index++) {\n      if (index === maxDiffIndex || index === maxDiffIndex + 1) {\n        const row = moveMethod(index, maxDiffIndex, rowsPhotos);\n        newRowsPhotos.push(row);\n      } else {\n        newRowsPhotos.push(rowsPhotos[index]);\n      }\n    }\n  \n    return newRowsPhotos;\n  }\n\n  function moveImageToPrevRow(index, maxDiffIndex, rowsPhotos) {\n    if (index === maxDiffIndex) {\n      const currentPhotosRow = rowsPhotos[index];\n      const firstPhotoOfNextRow = rowsPhotos[index + 1][0];\n  \n      return currentPhotosRow.concat(firstPhotoOfNextRow);\n    }\n  \n    // for the case index === maxDiffIndex + 1\n    const currentPhotosRow = rowsPhotos[index];\n  \n    return currentPhotosRow.slice(1);\n  }\n  \n  function moveImageToNextRow(index, maxDiffIndex, rowsPhotos) {\n    if (index === maxDiffIndex) {\n      const currentPhotosRow = rowsPhotos[index];\n  \n      return currentPhotosRow.slice(0, currentPhotosRow.length - 1);\n    }\n  \n    // for the case index === maxDiffIndex + 1\n    const prevPhotosRow = rowsPhotos[index - 1];\n    const lastPhotoOfPrevRow = prevPhotosRow[prevPhotosRow.length - 1];\n    const currentPhotosRow = rowsPhotos[index];\n  \n    return [lastPhotoOfPrevRow].concat(currentPhotosRow);\n  }\n      "}),Object(e.jsx)("i",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435:"}),Object(e.jsx)("pre",{className:T.a.data,children:"\n  const photosBefore = [\n    [{}, {}, {}],\n    [{}, {}, {}],\n    [{}, {}, {}]\n  ]\n\n  ->\n\n  const photosAfter = [\n    [{}, {}],\n    [{}, {}, {}, {}],\n    [{}, {}, {}]\n  ]\n      "}),Object(e.jsxs)("b",{children:["8) \u041f\u043e\u0441\u043b\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0440\u044f\u0434\u0430\u043c,",Object(e.jsx)("br",{}),"\u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0447\u0435\u0441\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u044b \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 \u0431\u0430\u0431\u043b\u0430 300px"]}),Object(e.jsx)("br",{}),Object(e.jsx)("i",{children:"\u041a\u043e\u0434:"}),Object(e.jsx)("pre",{className:T.a.code,children:"\n  const CONTAINER_WIDTH = 300; // size of bubble\n\n  const updatedRowsPhotos = updateWidthHeight(data.rowsPhotos)\n\n  function updateWidthHeight(rowsPhotos) {\n    const newRowsPhotos = [];\n    let index = 0;\n  \n    while (index < rowsPhotos.length) {\n      newRowsPhotos.push(updateSizes(rowsPhotos[index]));\n      index++;\n    }\n  \n    return newRowsPhotos;\n  }\n\n  function updateSizes(rowPhotos) {\n    const ratioSum = sumRatio(rowPhotos);\n  \n    const firstPhoto = rowPhotos[0];\n  \n    const widthOfFirstPhoto = Math.floor(\n      (CONTAINER_WIDTH * firstPhoto.ratio) / ratioSum\n    );\n  \n    const heightOfFirstPhoto = Math.floor(widthOfFirstPhoto / firstPhoto.ratio);\n  \n    let updatedRowPhotos = [\n      {\n        width: widthOfFirstPhoto,\n        height: heightOfFirstPhoto,\n        image: firstPhoto.image,\n      },\n    ];\n  \n    let index = 1;\n  \n    while (index < rowPhotos.length) {\n      const width = Math.floor(\n        (CONTAINER_WIDTH * rowPhotos[index].ratio) / ratioSum\n      );\n  \n      updatedRowPhotos.push({\n        image: rowPhotos[index].image,\n        width,\n        height: heightOfFirstPhoto,\n      });\n  \n      index++;\n    }\n  \n    return updatedRowPhotos;\n  }\n\n  function sumRatio(rowPhotos) {\n    let sum = 0;\n    let index = 0;\n  \n    while (index < rowPhotos.length) {\n      sum += rowPhotos[index].ratio;\n      index++;\n    }\n  \n    return sum;\n  }\n      "})]})},y=function(){return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(F,{}),Object(e.jsx)("hr",{}),Object(e.jsx)(A,{})]})};a.a.render(Object(e.jsx)(r.a.StrictMode,{children:Object(e.jsx)(y,{})}),document.getElementById("root"))},9:function(n,t,o){n.exports={container:"styles_container__qb2Av",preview:"styles_preview__3hwAV"}}},[[21,1,2]]]);
//# sourceMappingURL=main.653a0f18.chunk.js.map